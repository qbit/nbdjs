#!/usr/bin/env node

// Make sure the irc lib is available
require.paths.unshift(__dirname + '/lib');

var sys = require('sys');
var irc = require('irc');

var bot = new irc.Client('irc.dollyfish.net.nz', 'nodebot', {
    debug: true,
    channels: ['#test'],
});

bot.addListener('error', function(message) {
    sys.puts('ERROR: ' + message.command + ': ' + message.args.join(' '));
});

bot.addListener('message#test', function (from, message) {
    if ( from == 'Ned' ) {
        bot.say('#test', 'Hello world! I need to work on making these lines longer ... so hopefully I can manage to flood myself off the network');
        bot.say('#test', 'Hello world! I need to work on making these lines longer ... so hopefully I can manage to flood myself off the network');
        bot.say('#test', 'Hello world! I need to work on making these lines longer ... so hopefully I can manage to flood myself off the network');
        bot.say('#test', 'Hello world! I need to work on making these lines longer ... so hopefully I can manage to flood myself off the network');
        bot.say('#test', 'Hello world! I need to work on making these lines longer ... so hopefully I can manage to flood myself off the network');
        bot.say('#test', 'Hello world! I need to work on making these lines longer ... so hopefully I can manage to flood myself off the network');
        bot.say('#test', 'Hello world! I need to work on making these lines longer ... so hopefully I can manage to flood myself off the network');
        bot.say('#test', 'Hello world! I need to work on making these lines longer ... so hopefully I can manage to flood myself off the network');
        bot.say('#test', 'Hello world! I need to work on making these lines longer ... so hopefully I can manage to flood myself off the network');
    };
});
